<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Roulette Analyzer PRO</title>

<script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>

<style>

/* BODY */

body{
background:#0f3b2f;
color:white;
font-family:Arial;
margin:0;
overflow-x:hidden;
}

/* HAMBURGER */

.menuButton{
position:fixed;
top:15px;
right:15px;
font-size:28px;
cursor:pointer;
z-index:1002;
background:black;
padding:8px 14px;
border:3px solid white;
border-radius:6px;
}

/* OVERLAY */

.overlay{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.6);
opacity:0;
pointer-events:none;
transition:0.3s;
z-index:999;
}

.overlay.show{
opacity:1;
pointer-events:auto;
}

/* SIDE MENU */

.sideMenu{
position:fixed;
top:0;
right:-260px;
width:260px;
height:100%;
background:#111;
border-left:3px solid white;
padding-top:70px;
transition:0.3s;
z-index:1001;
}

.sideMenu.open{
right:0;
}

.sideMenu button{
display:block;
width:85%;
margin:12px auto;
padding:14px;
background:black;
color:white;
border:2px solid white;
font-size:16px;
cursor:pointer;
border-radius:6px;
}

.sideMenu button:hover{
background:#222;
}

/* CENTER CONTENT */

.container{
display:flex;
flex-direction:column;
align-items:center;
padding:20px;
}

/* TABLE */

.table{
display:flex;
justify-content:center;
}

.zeros{
display:flex;
flex-direction:column;
gap:4px;
}

.grid{
display:grid;
grid-template-columns: repeat(12,60px);
grid-template-rows: repeat(3,60px);
gap:4px;
margin-left:4px;
}

/* NUMBER BUTTONS */

.number{
width:60px;
height:60px;
border:3px solid white;
color:white;
font-weight:bold;
font-size:16px;
cursor:pointer;
border-radius:4px;
}

.red{background:#c0392b;}
.black{background:#111;}
.green{background:#1e8449;}

/* HISTORY */

.history{
display:flex;
flex-wrap:wrap;
gap:4px;
background:#111;
padding:10px;
margin-top:20px;
border:3px solid white;
max-width:90vw;
justify-content:center;
}

.hist{
width:32px;
height:32px;
border:2px solid white;
display:flex;
align-items:center;
justify-content:center;
font-size:13px;
border-radius:4px;
}

/* MOBILE OPTIMIZATION */

@media (max-width:600px){

.grid{
grid-template-columns: repeat(12,40px);
grid-template-rows: repeat(3,40px);
}

.number{
width:40px;
height:40px;
font-size:12px;
}

.hist{
width:24px;
height:24px;
font-size:10px;
}

.menuButton{
font-size:24px;
padding:6px 10px;
}

}

</style>
</head>
<body>

<!-- OVERLAY -->

<div class="overlay" id="overlay" onclick="closeMenu()"></div>

<!-- MENU BUTTON -->

<div class="menuButton" onclick="toggleMenu()">â˜°</div>

<!-- SIDE MENU -->

<div class="sideMenu" id="sideMenu">

<button onclick="exportExcel()">Excel</button>

<button onclick="saveJSON()">Save JSON</button>

<button onclick="importJSON()">Import JSON</button>

<button onclick="clearAll()">Clear</button>

</div>

<input type="file" id="fileInput" hidden>

<div class="container">

<h2>Roulette Analyzer PRO</h2>

<div class="table">

<div class="zeros">

<button class="number green" onclick="addNumber('0')">0</button>

<button class="number green" onclick="addNumber('00')">00</button>

</div>

<div class="grid" id="grid"></div>

</div>

<div class="history" id="history"></div>

</div>

<script>

/* MENU CONTROL */

function toggleMenu(){

const menu=document.getElementById("sideMenu");
const overlay=document.getElementById("overlay");

menu.classList.toggle("open");
overlay.classList.toggle("show");

}

function closeMenu(){

document.getElementById("sideMenu").classList.remove("open");
document.getElementById("overlay").classList.remove("show");

}

/* DATA */

const redNums=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];

let history=[];
let numberCount={};

for(let i=0;i<=36;i++) numberCount[i]=0;
numberCount["00"]=0;

/* CREATE GRID */

const grid=document.getElementById("grid");

for(let r=3;r>=1;r--){
for(let c=0;c<12;c++){

let n=r+c*3;

let btn=document.createElement("button");

btn.innerText=n;
btn.className="number "+getColor(n);

btn.onclick=()=>addNumber(n);

grid.appendChild(btn);

}
}

/* COLOR */

function getColor(n){

if(n=="0"||n=="00") return "green";
return redNums.includes(Number(n))?"red":"black";

}

/* ADD */

function addNumber(n){

history.push({
number:n,
color:getColor(n)
});

numberCount[n]++;

render();
saveLocal();

}

/* RENDER */

function render(){

let div=document.getElementById("history");

div.innerHTML="";

history.forEach(h=>{

let el=document.createElement("div");

el.className="hist "+h.color;
el.innerText=h.number;

div.appendChild(el);

});

}

/* STORAGE */

function saveLocal(){

localStorage.setItem("roulette",JSON.stringify(history));

}

function loadLocal(){

let d=localStorage.getItem("roulette");

if(d){

JSON.parse(d).forEach(x=>addNumber(x.number));

}

}

loadLocal();

/* EXPORT */

function exportExcel(){

closeMenu();

let ws=XLSX.utils.json_to_sheet(history);

let wb=XLSX.utils.book_new();

XLSX.utils.book_append_sheet(wb,ws,"history");

XLSX.writeFile(wb,"roulette.xlsx");

}

function saveJSON(){

closeMenu();

let blob=new Blob([JSON.stringify(history)],{type:"application/json"});

let a=document.createElement("a");

a.href=URL.createObjectURL(blob);

a.download="roulette.json";

a.click();

}

function importJSON(){

closeMenu();

document.getElementById("fileInput").click();

}

document.getElementById("fileInput").onchange=function(e){

let reader=new FileReader();

reader.onload=function(){

clearAll();

JSON.parse(reader.result).forEach(x=>addNumber(x.number));

};

reader.readAsText(e.target.files[0]);

};

/* CLEAR */

function clearAll(){

closeMenu();

history=[];
for(let k in numberCount) numberCount[k]=0;

render();
saveLocal();

}

</script>

</body>
</html>